<blockquote>
{{ game | json }}
</blockquote>
<!--TODO replace hidden with loading mask-->
<form (ngSubmit)="onSubmit()" [ngFormModel]="gameForm" [hidden]="disabled">
  <div class="form-group">
    <label>Date
      <input type="date" ngControl="date" class="form-control">
    </label>
  </div>
  <div class="form-group">
    <label>Core set count
      <input type="number" ngControl="coreSetCount" min="1" max="3" class="form-control">
    </label>
  </div>
  <div class="form-group">
    <label>Deck type
      <select ngControl="deckTypeId" class="form-control">
        <option *ngFor="#deckType of deckTypes" [value]="deckType.deckTypeId">{{ deckType.title }}</option>
      </select>
    </label>
  </div>
  <div class="form-group">
    <agot-game-players [gamePlayers]="game.gamePlayers" (change)="onPlayerChange($event)"></agot-game-players>
  </div>
  <div>
    <button type="submit"
            [disabled]="!gameForm.valid"
            class="btn btn-default">{{ game.gameId ? 'Update' : 'Create' }}
    </button>
    <button type="button" class="btn" (click)="onCancel()">Cancel</button>
  </div>
  valid? {{ gameForm.valid }} pristine? {{ gameForm.pristine }}
  <div [hidden]="gameForm.valid || gameForm.pristine" class="alert alert-danger">
    Fix the issues, you dunce
  </div>
</form>
