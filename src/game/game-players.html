<div class="card">
  <h3 class="card-header">Players</h3>
  <div class="card-block">

    <div *ngIf="!gamePlayers?.length || gamePlayers?.length < 2" class="alert alert-danger">
      Need more players over here
    </div>

    <div class="card-deck-wrapper">
      <div class="card-deck">
        <!--<agot-game-player-row *ngFor="#gamePlayer of gamePlayers" [gamePlayer]="gamePlayer" class="card"-->
                              <!--[readOnly]="readOnly"-->
                              <!--(updatePlayer)="onPlayerEdit($event)" (removePlayer)="onRemove($event)">-->
        <!--</agot-game-player-row>-->
        <div class="card" *ngFor="#gamePlayer of gamePlayers">
          <!--TODO game player name-->
          <div class="card-header">{{ gamePlayer.player?.name || gamePlayer.playerId }}</div>
          <div class="card-block">
            <p>{{ gamePlayer.deck.title || gamePlayer.deck.fallbackTitle }}</p>
            <p *ngIf="!gamePlayer.deck.deckId">New deck</p>
          </div>
          <div class="card-footer" [class.alert-warning]="gamePlayer.isWinner">
            <p>{{ gamePlayer.isWinner ? 'Big Winner' : 'Wretched loser' }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="card card-block" *ngIf="!readOnly">
  <h5 class="card-title">Add player</h5>
  <agot-new-game-player-form (updatePlayer)="onNewPlayerAdd($event)" *ngIf="addActive"></agot-new-game-player-form>
</div>

<div class="card card-block" *ngIf="!readOnly">
  <h5 class="card-title">Who won?</h5>
  <div class="form-group btn-group" data-toggle="buttons">
    <label class="btn btn-primary" *ngFor="#gamePlayer of gamePlayers" [class.active]="gamePlayer.isWinner">
      <input type="radio" name="isWinner" value="true"
             autocomplete="off" [checked]="gamePlayer.isWinner"
             (change)="onWinnerChange(gamePlayer)"> {{ gamePlayer.player?.name || gamePlayer.playerId }}
      <!--TODO game player name-->
    </label>

    <label class="btn btn-primary-outline">
      <input type="radio" name="isWinner" value="true" autocomplete="off"
             (change)="onWinnerChange()"> Draw / Unfinished
    </label>
  </div>
</div>
