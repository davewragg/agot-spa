<table *ngIf="games" class="table table-striped">
  <tbody>
  <tr *ngIf="!games.length">
    <td colspan="3" class="alert alert-warning">No games? WTF</td>
  </tr>
  <tr *ngFor="#game of games">
    <td>
      <div class="small text-muted">
        <a [routerLink]="['/GameDetails', {id: game.gameId}]">
          <time [attr.datetime]="game.date" title="{{ game.date | amDateFormat: 'LLLL' }}">
            {{ game.date | amTimeAgo }}
          </time>
        </a>
      </div>
    </td>
    <td class="card-deck-wrapper">
      <div class="card-deck">
        <div class="card text-xs-center" [class.alert-warning]="gamePlayer.isWinner"
             *ngFor="#gamePlayer of game.gamePlayers">
          <h6 class="card-header font-weight-bold">
            <agot-player-link [player]="gamePlayer.player"></agot-player-link>
          </h6>
          <div class="card-block">
            <p class="card-text">
              <agot-faction-badge [faction]="gamePlayer.deck.faction"></agot-faction-badge>
            </p>
            <p class="card-text" *ngIf="gamePlayer.deck.secondaryFaction">
              <agot-faction-badge [faction]="gamePlayer.deck.secondaryFaction"></agot-faction-badge>
            </p>
            <p class="card-text" *ngIf="gamePlayer.deck.agenda">
              <agot-agenda-badge [agenda]="gamePlayer.deck.agenda"></agot-agenda-badge>
            </p>
          </div>
        </div>
      </div>
    </td>
  </tr>
  </tbody>
</table>
