<form [formGroup]="gamePlayerForm" class="form" (submit)="onSubmit()">
  <div class="container row">
    <div class="form-group col-md-4 col-xs-12">
      <agot-player-group-selector [playerGroup]="selectedGroupId$ | async"
                                  (playerGroupChange)="onSelectedGroupChange($event)">
      </agot-player-group-selector>

      <!--TODO disable if no group selected?-->
      <select class="form-control" formControlName="playerId">
        <option value="">--{{ !(selectedGroupId$ | async) ? 'Select a Player Group' : (loading$ | async) ? 'Loading players' : 'Select player' }}--
        </option>
        <option *ngFor="let player of players$ | async" [value]="player.playerId">{{ player.name }}</option>
      </select>
      <button type="submit" class="btn btn-primary btn-success">Add</button>
    </div>
  </div>
  <agot-spinner [isRunning]="loading$ | async"></agot-spinner>
</form>
